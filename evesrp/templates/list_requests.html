{% extends "base.html" %}
{% import "macros.html" as macros %}

{% block content %}
<div class="row">
  <div class="col-md-10 col-md-offset-1">
    <table class="table table-condensed">
      <tr>
        <th><a href="#" id="col-id">Request ID <i></i></a></th>
        <th><a href="#" id="col-pilot">Pilot <i></i></a></th>
        <th><a href="#" id="col-ship">Ship <i></i></a></th>
        <th><a href="#" id="col-status">Status <i></i></a></th>
        <th><a href="#" id="col-payout">Payout <i></i></a></th>
        <th><a href="#" id="col-submit_timestamp">Submit Time <i></i></a></th>
        <th><a href="#" id="col-division">Division <i></i></a></th>
      </tr>
      {% for request in requests %}
      <tr class="{{ macros.status_color(request.status) }}">
        <td><a href="{{ url_for('requests.request_detail', request_id=request.id) }}">{{ request.id }}</a></td>
        <td>{{ request.pilot.name }}</td>
        <td>{{ request.ship_type }}</td>
        <td>{{ request.status|capitalize }}</td>
        <td>{{ request.payout }}</td>
        <td>{{ request.timestamp.strftime('%d %b %Y @ %H:%M') }}</td>
        <td>{{ request.division.name }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock content %}

{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='js/underscore.js') }}"></script>
<script src="{{ url_for('static', filename='js/pourover.js') }}"></script>
<script src="{{ url_for('static', filename='js/custom-pourover.js') }}"></script>
{% endblock scripts %}
